@using Pim.CommonLib
@using PimWeb.AppCode
@using PimWeb.Models
@model ICollection<FileViewModel>

@foreach (var item in Model)
{
    <div class="row form-group">
        <div note-name class="col-md-11">
            <span class="text-muted small">@($"{item.LastUpdateTime:ddd dd-MMM-yy, HH:mm} ")</span>
            <a file-title href="@Url.Action("Index", "ViewEdit", new {id = item.Id})">@item.Title</a>
            <a delete-file-by-id class="ms-3" href="#" fileId="@item.Id">delete</a>
            <br/>
            @if (!item.SearchHeadline.IsNullOrWhiteSpace())
            {
                @Html.Raw(item.SearchHeadline) @:(@($"{item.Rank:F2}"))
            }
            else
            {
                item.Description?.GetTextWithLimit(0, 200);
            }
            @if (item.LastUpdateTime.HasValue && item.CreateTime.HasValue && Math.Abs((item.LastUpdateTime.Value - item.CreateTime.Value).TotalSeconds) > 1)
            {
                @:&nbsp; <span class="text-muted small">@($"(Created {item.CreateTime:ddd dd-MMM-yy, HH:mm})")</span>
            }
        </div>
    </div>
}
